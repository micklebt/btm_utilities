<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo Interface Test</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/utilities.css">
</head>
<body>
    <div class="container">
        <h1>Todo Interface Test</h1>
        
        <div class="test-section">
            <h2>Test Results</h2>
            <div id="test-results"></div>
        </div>

        <div class="test-section">
            <h2>Todo Interface</h2>
            <section id="todo" class="content-section">
                <div class="section-header">
                    <h2>To-Do List</h2>
                    <button id="add-task" class="primary-button">
                        <span class="button-icon">‚ûï</span>
                        Add Task
                    </button>
                </div>
                <div class="todo-list">
                    <div class="todo-filters">
                        <button class="filter-button active" data-filter="all">All</button>
                        <button class="filter-button" data-filter="pending">Pending</button>
                        <button class="filter-button" data-filter="completed">Completed</button>
                    </div>
                    <div id="todo-items" class="todo-items">
                        <!-- Todo items will be dynamically added here -->
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script type="module">
        function addResult(type, message) {
            const results = document.getElementById('test-results');
            const div = document.createElement('div');
            div.className = `result ${type}`;
            div.innerHTML = `<span class="timestamp">${new Date().toLocaleTimeString()}</span> ${message}`;
            results.appendChild(div);
        }

        async function runTests() {
            addResult('info', 'üß™ Starting Todo Interface Tests...');

            // Test 1: Check if todo section exists
            addResult('info', 'üìã Testing todo section...');
            const todoSection = document.getElementById('todo');
            if (todoSection) {
                addResult('success', '‚úÖ Todo section found');
            } else {
                addResult('error', '‚ùå Todo section not found');
                return;
            }

            // Test 2: Check if add task button exists
            const addTaskBtn = document.getElementById('add-task');
            if (addTaskBtn) {
                addResult('success', '‚úÖ Add task button found');
            } else {
                addResult('error', '‚ùå Add task button not found');
            }

            // Test 3: Check if todo items container exists
            const todoItems = document.getElementById('todo-items');
            if (todoItems) {
                addResult('success', '‚úÖ Todo items container found');
            } else {
                addResult('error', '‚ùå Todo items container not found');
            }

            // Test 4: Check if filter buttons exist
            const filterButtons = document.querySelectorAll('.filter-button');
            if (filterButtons.length > 0) {
                addResult('success', `‚úÖ Found ${filterButtons.length} filter buttons`);
            } else {
                addResult('error', '‚ùå No filter buttons found');
            }

            // Test 5: Test todo manager module
            addResult('info', 'üîß Testing todo manager module...');
            try {
                const todoManager = await import('./js/todo-manager.js?v=1.0.2');
                if (todoManager.default) {
                    addResult('success', '‚úÖ Todo manager module loaded successfully');
                } else {
                    addResult('error', '‚ùå Todo manager module not found');
                }
            } catch (error) {
                addResult('error', `‚ùå Todo manager module failed to load: ${error.message}`);
            }

            // Test 6: Test storage utils
            addResult('info', 'üíæ Testing storage utils...');
            try {
                const { storageUtils } = await import('./js/storage.js?v=1.0.2');
                if (storageUtils && storageUtils.todos) {
                    addResult('success', '‚úÖ Storage utils loaded successfully');
                } else {
                    addResult('error', '‚ùå Storage utils not found');
                }
            } catch (error) {
                addResult('error', `‚ùå Storage utils failed to load: ${error.message}`);
            }

            addResult('success', 'üéâ Todo interface tests completed!');
        }

        // Run tests when page loads
        document.addEventListener('DOMContentLoaded', runTests);
    </script>

    <style>
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
        }
        
        .result {
            margin: 5px 0;
            padding: 5px;
            border-radius: 4px;
        }
        
        .result.success {
            background-color: #d4edda;
            color: #155724;
        }
        
        .result.error {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .result.info {
            background-color: #d1ecf1;
            color: #0c5460;
        }
        
        .timestamp {
            font-size: 0.8em;
            opacity: 0.7;
        }
    </style>
</body>
</html> 